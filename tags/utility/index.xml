<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Utility on 局域自由博客</title>
        <link>https://localfreedom.pages.dev/tags/utility/</link>
        <description>Recent content in Utility on 局域自由博客</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Sat, 04 Oct 2025 06:11:21 +0000</lastBuildDate><atom:link href="https://localfreedom.pages.dev/tags/utility/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Ollama模型部署</title>
        <link>https://localfreedom.pages.dev/p/ollama%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/</link>
        <pubDate>Sat, 04 Oct 2025 06:11:21 +0000</pubDate>
        
        <guid>https://localfreedom.pages.dev/p/ollama%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2/</guid>
        <description>&lt;img src="https://localfreedom.pages.dev/img/ollama-cloud.png" alt="Featured image of post Ollama模型部署" /&gt;&lt;p&gt;Ollama是一个流行的LLM本地部署推理软件，从其&lt;a class=&#34;link&#34; href=&#34;https://github.com/ollama/ollama&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Github仓库&lt;/a&gt;可以下载安装程式或直接运行其&lt;a class=&#34;link&#34; href=&#34;https://docker.io/ollama/ollama&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Docker映像&lt;/a&gt;。
本文介绍将&lt;a class=&#34;link&#34; href=&#34;https://huggingface.co/models&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;HuggingFace上的模型&lt;/a&gt;导入离线环境中的Ollama部署推理的3种方法。&lt;/p&gt;
&lt;h2 id=&#34;导入gguf格式&#34;&gt;导入GGUF格式
&lt;/h2&gt;&lt;p&gt;创建一个modelfile文档，尽量和模型文档在同一个文档夹。
格式分为三部分:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;模型权重文档路径，以FROM开头，多模态可以有多行。&lt;/li&gt;
&lt;li&gt;对话模板，以TEMPLATE开头用引号包裹，配置提示词等。&lt;/li&gt;
&lt;li&gt;参数，以PARAMETER开头每行1个，配置温度、停止词等。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;模板和参数建议使用&lt;a class=&#34;link&#34; href=&#34;https://ollama.com/library&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ollama官方&lt;/a&gt;同名模型的配置，通常不同尺寸和量化精度的配置是一样的。&lt;/p&gt;
&lt;p&gt;例如Google的Gemma3模型12b尺寸的配置文档:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM gemma-3-12b-it-q4_0.gguf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM mmproj-google_gemma-3-12b-it-qat-f16.gguf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TEMPLATE &amp;#34;{{- range $i, $_ := .Messages }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{- $last := eq (len (slice $.Messages $i)) 1 }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{- if or (eq .Role &amp;#34;user&amp;#34;) (eq .Role &amp;#34;system&amp;#34;) }}&amp;lt;start_of_turn&amp;gt;user
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{ .Content }}&amp;lt;end_of_turn&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{ if $last }}&amp;lt;start_of_turn&amp;gt;model
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{ end }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{- else if eq .Role &amp;#34;assistant&amp;#34; }}&amp;lt;start_of_turn&amp;gt;model
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{ .Content }}{{ if not $last }}&amp;lt;end_of_turn&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{ end }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{- end }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{- end }}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PARAMETER stop &amp;lt;end_of_turn&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PARAMETER temperature 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PARAMETER top_k 64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PARAMETER top_p 0.95
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;执行命令 &lt;code&gt;ollama create 模型名 -f 配置文档.modelfile&lt;/code&gt;
ollama就会将GGUF格式的模型文档导入成内部数据。&lt;/p&gt;
&lt;h2 id=&#34;迁移已有模型&#34;&gt;迁移已有模型
&lt;/h2&gt;&lt;p&gt;Ollama存储模型分为配置索引和数据块两部分。
将已经下载部署好的模型迁移到新安装环境，只需要复制配置文档和数据块即可。
模型配置文档根据路径可以看出保存在 &lt;code&gt;.ollama/models/manifests/registry.ollama.ai/library/模型名:参数&lt;/code&gt; 中，其中模型名如gemma3，参数如12b-it-qat，也就是run时冒号前后的部分。
打开配置文档是json格式，找到其中的&lt;code&gt;sha256:xxx...&lt;/code&gt;就是对应的数据块，在 &lt;code&gt;.ollama/models/blobs/&lt;/code&gt; 中找到相应的文档便是该模型的数据块。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;schemaVersion&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;mediaType&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;application/vnd.docker.distribution.manifest.v2+json&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;config&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;mediaType&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;application/vnd.docker.container.image.v1+json&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;digest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sha256:505f8883abf333a307ed4120ef5f3116f442e6c537e5c4332d9044492e2d637c&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;414&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;layers&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:[{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;mediaType&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;application/vnd.ollama.image.model&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;digest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sha256:1fb99eda86dc48a736567406253769fdc75f01e65cde7c65fa5563e4bdf156e0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8928674496&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;from&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/Users/pdevine/.ollama/models/blobs/sha256-1fb99eda86dc48a736567406253769fdc75f01e65cde7c65fa5563e4bdf156e0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;mediaType&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;application/vnd.ollama.image.template&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;digest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sha256:5be6630b666f007a127a456fb3958da5fbd7cf547204188bc4690fedc837af0b&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;359&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;mediaType&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;application/vnd.ollama.image.params&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;digest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sha256:3116c52250752e00dd06b16382e952bd33c34fd79fc4fe3a5d2c77cf7de1b14b&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;77&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}]}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;将配置文档和数据块复制到新安装环境即可正常使用之前下载好的模型。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;数据块有大有小，大的就是下载的LLM参数文档，小的可以打开看，通常是模板和参数，所以复制后模板等配置也原封不动。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;离线下载模型文档&#34;&gt;离线下载模型文档
&lt;/h2&gt;&lt;p&gt;有时候需要下载Ollama的官方模型，但并不便于安装一个Ollama，就需要直接通过URL下载模型配置和权重文档。
虽然目前官方没有在文档中说明下载链接格式，但是对于run时的 &lt;code&gt;模型名:参数&lt;/code&gt; 可以根据规则推测其直链。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;配置文档如 &lt;code&gt;https://registry.ollama.ai/v2/library/模型名/manifests/参数&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;权重数据块文档如 &lt;code&gt;https://registry.ollama.ai/v2/library/模型名/blobs/sha256:配置文档中的数据块散列值&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/Gholamrezadar/ollama-direct-downloader&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gholamreza Dar&lt;/a&gt;制作了&lt;a class=&#34;link&#34; href=&#34;https://ollama-direct-downloader.vercel.app/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;提取Ollama直链的网页&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;下载好配置文档和权重数据块后，按照规律放到个人文档夹中 &lt;code&gt;.ollama/models/&lt;/code&gt; 相应位置即可被Ollama运行时调用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;配置文档如 &lt;code&gt;.ollama/models/manifests/registry.ollama.ai/library/模型名:参数&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;权重数据块文档如 &lt;code&gt;.ollama/models/blobs/sha256:配置文档中的数据块散列值&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SSH远程登入神器的初步使用</title>
        <link>https://localfreedom.pages.dev/p/ssh%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%85%A5%E7%A5%9E%E5%99%A8%E7%9A%84%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/</link>
        <pubDate>Fri, 13 Jun 2025 13:04:09 +0000</pubDate>
        
        <guid>https://localfreedom.pages.dev/p/ssh%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%85%A5%E7%A5%9E%E5%99%A8%E7%9A%84%E5%88%9D%E6%AD%A5%E4%BD%BF%E7%94%A8/</guid>
        <description>&lt;h2 id=&#34;简介&#34;&gt;简介
&lt;/h2&gt;&lt;p&gt;SSH是安全shell的缩写，提供加密传输访问远程服务器的功能。
SSH几乎是所有类似UNIX系统远程登入的方式，当前的Windows 10/11 已经集成了SSH客户端可选组件。
SSH同时支持者scp、git、https、vpn等很多应用。&lt;/p&gt;
&lt;h2 id=&#34;用法&#34;&gt;用法
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;直接使用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ssh 用户名@目标主机:端口&lt;/li&gt;
&lt;li&gt;用户名和当前用户名相同可省略&lt;/li&gt;
&lt;li&gt;目标主机可以是ip或域名&lt;/li&gt;
&lt;li&gt;端口默认22可不写&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置密钥访问&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;生成密钥对 ssh-keygen&lt;/li&gt;
&lt;li&gt;拷贝公钥到目标主机 ssh-copy-id&lt;/li&gt;
&lt;li&gt;配置使用的密钥对&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;端口转发&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本地转发 LocalForward
&lt;ul&gt;
&lt;li&gt;-L [本地主机:]本地主机端口:远程网络主机:远程网络主机端口&lt;/li&gt;
&lt;li&gt;例如 &lt;code&gt;ssh -L 0.0.0.0:30000:host2:8000 user@host1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;这条命令将host2的8000端口映射到本地的30000端口前提是待登录主机host1上可以正常连接到host2的80端口&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;远程转发 RemoteForward
&lt;ul&gt;
&lt;li&gt;-R [登录主机:]登录主机端口:本地网络主机:本地网络主机端口&lt;/li&gt;
&lt;li&gt;例如 &lt;code&gt;ssh -R 0.0.0.0:8080:host2:80 user@host1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;这条命令将host2的80端口映射到待登录主机host1的8080端口前提是本地主机可以正常连接host2的80端口&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;动态转发 DynamicForward
&lt;ul&gt;
&lt;li&gt;-D [本地主机:]本地主机端口&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssh -D 0.0.0.0:50000 user@host1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;这条命令创建了一个SOCKS代理(默认127.0.0.1)通过该SOCKS代理发出的数据包将经过host1转发出去&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;专门复制文件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scp [-4/-6] [-r] [-P 端口号] 源地址 目的地&lt;/li&gt;
&lt;li&gt;范例
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;scp -r 文件夹 user@1.2.3.4:~&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scp -6 -P 22 文件 user@[I:P::v:6]:~&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;配置文件&#34;&gt;配置文件
&lt;/h2&gt;&lt;h3 id=&#34;客户端&#34;&gt;客户端
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;文件位置
&lt;ul&gt;
&lt;li&gt;默认在 &lt;code&gt;~/.ssh/config&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Windows/Linux/MacOS同样&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;有一些公共配置
&lt;ul&gt;
&lt;li&gt;HashKnownHosts 散列记住的主机信息，默认&lt;code&gt;yes&lt;/code&gt;,建议&lt;code&gt;no&lt;/code&gt;以便于手工维护&lt;code&gt;known_hosts&lt;/code&gt;文件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;每个服务器各是一段配置,常用配置项目如下
&lt;ul&gt;
&lt;li&gt;Host 服务器简称&lt;/li&gt;
&lt;li&gt;User 登陆用户名，默认当前用户名&lt;/li&gt;
&lt;li&gt;Hostname 服务器地址&lt;/li&gt;
&lt;li&gt;Port 服务器端口，默认22&lt;/li&gt;
&lt;li&gt;IdentityFile 需要使用的密钥，相对路径从执行命令的位置为基准&lt;/li&gt;
&lt;li&gt;LocalForward 端口转发本地&lt;/li&gt;
&lt;li&gt;RemoteForward 端口转发远端&lt;/li&gt;
&lt;li&gt;ProxyCommand 应用代理额外命令&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;范例&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host my_server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	User root
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	Hostname 10.11.12.13
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	Port 22
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	IdentityFile ~/.ssh/id_rsa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	LocalForward 30000 localhost:30000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	RemoteForward 8000 localhost:8000
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;服务端&#34;&gt;服务端
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;文件位置
&lt;ul&gt;
&lt;li&gt;类Unix系统通常在&lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Windows系统一般不使用SSH，而是RDP远程桌面。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;配置项
&lt;ul&gt;
&lt;li&gt;文件中有详细的注释和范例&lt;/li&gt;
&lt;li&gt;不建议修改服务端的配置&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;技巧&#34;&gt;技巧
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;查看服务器公钥指纹 &lt;code&gt;ssh-keygen -l -f /etc/ssh/ssh_host_ecdsa_key.pub&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;首次连接一台服务器的时候会询问是否接受公钥，显示的指纹可以通过这条命令查看。&lt;/li&gt;
&lt;li&gt;核对指纹可以避免中间人攻击。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;通过socks5代理 &lt;code&gt;ssh -o ProxyCommand=&#39;nc -x 127.0.0.1:1080 %h %p&#39; my_server&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;开启socks5代理并显示连接信息 &lt;code&gt;ssh -v -D 1080 my_server&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>kiwix</title>
        <link>https://localfreedom.pages.dev/p/kiwix/</link>
        <pubDate>Sun, 03 Dec 2023 03:58:12 +0000</pubDate>
        
        <guid>https://localfreedom.pages.dev/p/kiwix/</guid>
        <description>&lt;h2 id=&#34;离线知识库工具&#34;&gt;离线知识库工具
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://kiwix.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;kiwix&lt;/a&gt;是一个离线查看维基百科的自由软件，采用zim格式压缩维基百科数据以供离线使用。
当然，任何网页文档如果压缩成zim格式都可以用kiwix查看，社区也制作了各种软件、服务等的文档。
可以说kiwix是&lt;strong&gt;实现自由的离线生活的重要基础设施&lt;/strong&gt;。
关键kiwix还集成实现了全文检索功能。&lt;/p&gt;
&lt;p&gt;kiwix&lt;a class=&#34;link&#34; href=&#34;https://kiwix.org/en/applications/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;支持Windows、MacOS/iOS、GNU/Linux、Android等&lt;/a&gt;，可以说是完全跨平台软件，也有很好的国际化多语言支持。
软件很小巧值得收藏。
kiwix还有&lt;a class=&#34;link&#34; href=&#34;https://addons.mozilla.org/en-US/firefox/addon/kiwix-offline&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Firefox插件版本&lt;/a&gt;可以体验。
博主测试浏览器插件使用效果目前还不太稳定。&lt;/p&gt;
&lt;h2 id=&#34;离线知识库&#34;&gt;离线知识库
&lt;/h2&gt;&lt;h3 id=&#34;资源网址&#34;&gt;资源网址
&lt;/h3&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://library.kiwix.org&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://library.kiwix.org&lt;/a&gt; 列出了官方背书的知识库，可以筛选查找。&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://download.kiwix.org/zim/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://download.kiwix.org/zim/&lt;/a&gt; 这里可以下载官方的资源。&lt;/p&gt;
&lt;h3 id=&#34;各种版本&#34;&gt;各种版本
&lt;/h3&gt;&lt;p&gt;维基百科是分语言的，可以选择只下载自己常用的语言和英语版本。
每种语言有完全版本(all)和精选版本(top)。
网站还区分了最大版(maxi)、无图片版本(nopic)和精简版(mini)。&lt;/p&gt;
&lt;p&gt;比如 &lt;a class=&#34;link&#34; href=&#34;https://download.kiwix.org/zim/wikipedia/wikipedia_zh_all_nopic_2023-10.zim&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://download.kiwix.org/zim/wikipedia/wikipedia_zh_all_nopic_2023-10.zim&lt;/a&gt; 就是维基百科-中文-完全-无图片版本。&lt;/p&gt;
&lt;p&gt;其他各种资源基本都有语言的区分，但通常没有维基的那么大，也就不分有无图片了。
目前官网已经收录了超过1000种百科文档，比如各种Linux发行版的wiki、mooc、问答社区等。&lt;/p&gt;
&lt;h3 id=&#34;下载方式&#34;&gt;下载方式
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;直接下载，从&lt;a class=&#34;link&#34; href=&#34;https://download.kiwix.org/zim/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;网页&lt;/a&gt;直接点击下载。&lt;/li&gt;
&lt;li&gt;BT下载，在zim下载连接后面加上&lt;code&gt;.torrent&lt;/code&gt;即可下载种子文件，然后用喜欢的BT工具下载即可。&lt;/li&gt;
&lt;li&gt;镜像下载，很多镜像站会镜像整个&lt;a class=&#34;link&#34; href=&#34;https://download.kiwix.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;数据网站&lt;/a&gt;也可以去那里下载。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;zim文件不必及时更新，反正就是离线查看。但每次更新一定要检查打开后图片展示、连接跳转等是否正常。如果发现新版本zim体积减小也要留意，毕竟知识库这种东西一般应该是单调递增的，减小了不免怀疑是否有删减。&lt;/p&gt;
&lt;h2 id=&#34;kiwix的意义&#34;&gt;kiwix的意义
&lt;/h2&gt;&lt;p&gt;kiwix可以让我们不依赖网络而高效的查阅知识，实现离线的自由。
既然离线使用，当然避免了各种广告、追踪等，是ungoogle的隐私主义者的利器。
离线资源的传播可以让真理走向世界的每一个角落，启蒙缺乏互联网的难民儿童，当然还有天朝的愚民。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>RAR 妙用</title>
        <link>https://localfreedom.pages.dev/p/rar-%E5%A6%99%E7%94%A8/</link>
        <pubDate>Wed, 15 Nov 2023 12:13:15 +0000</pubDate>
        
        <guid>https://localfreedom.pages.dev/p/rar-%E5%A6%99%E7%94%A8/</guid>
        <description>&lt;h2 id=&#34;简介&#34;&gt;简介
&lt;/h2&gt;&lt;p&gt;RAR是最知名、使用最为广泛的压缩软件之一。
官网是 &lt;a class=&#34;link&#34; href=&#34;https://www.rarlab.com&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.rarlab.com&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;获取旧版本&#34;&gt;获取旧版本
&lt;/h2&gt;&lt;p&gt;虽然官网只有最新release和beta版本的下载连接，但官方也提供了FTP可以下载以前的版本。&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;ftp://ftp.rarlab.com/rar&#34; &gt;ftp://ftp.rarlab.com/rar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;鉴于当前主流浏览器不再支持ftp可能需要filezilla等软件来获取旧版本安装包。
6.10开始不再支持XP，XPsp3只能使用32位版本。&lt;/p&gt;
&lt;p&gt;比较特殊的是&lt;strong&gt;5.91&lt;/strong&gt;版本，这是5系列最后一版本，同时也是Win7SP1可以直接识别数字签名的版本，非常时候收藏以离线安装使用。
但是当年RAR的数字签名除了问题，ftp上提供的是重新签名后的版本，并不能被Win7SP1识别。
作者在这里放上当年从官网下载的&lt;code&gt;winrar-x64-591.exe&lt;/code&gt;的SHA256值&lt;code&gt;1c30d74f20ea721d63061d2a06ac00a9270fc7823004ff4f572d354990d4c1ae&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&#34;激活&#34;&gt;激活
&lt;/h2&gt;&lt;p&gt;RAR是专有收费软件，尽管很多人都没有意识到。
RAR作者也非常良心，只要忍受每次开起的广告就可以一直试用。
购买正版对于很多国家可能并不简单，不过激活还是很容易做到的。
在RAR安装目录&lt;code&gt;C:\Program Files\WinRAR&lt;/code&gt;下新建&lt;code&gt;rarreg.key&lt;/code&gt;，输入纯文本注册信息即可激活。
注册信息就麻烦读者自行检索吧。&lt;/p&gt;
&lt;h2 id=&#34;防乱码&#34;&gt;防乱码
&lt;/h2&gt;&lt;p&gt;使用最广泛的开源的ZIP格式，没有在压缩包中包含字符编码的说明。
对于中文用户，从WinXP或Win7打包的文件可能在MacOS或Linux上文件名目录乱码。
而RAR格式是包含字符编码信息的，便于在其他语言或默认字符编码的系统中正确识别文件名和目录的字符编码。&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
